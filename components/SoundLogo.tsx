import React from 'react'
import { useRouter } from 'next/router'

export const SoundLogo = () => {
  const [fill, setFill] = React.useState('white')
  const router = useRouter()
  let htmlElement: HTMLHtmlElement | null = null

  if (typeof window !== 'undefined') {
    htmlElement = window.document?.querySelector('html')
  }

  const updateFill = () => {
    if (!htmlElement) return
    const style = htmlElement.getAttribute('style')
    const newFill = style?.includes('dark') ? 'white' : 'black'
    setFill(newFill)
  }

  // Watch for theme changes
  React.useEffect(() => {
    const observer = new MutationObserver((mutations) => {
      mutations.forEach(updateFill)
    })

    if (!htmlElement) return
    observer.observe(htmlElement, { attributes: true, attributeFilter: ['style'] })

    if (router.pathname === '/') {
      setFill('white')
    } else {
      updateFill()
    }

    return () => {
      observer.disconnect()
    }
  }, [router.pathname])

  return (
    <svg width="175" height="28" viewBox="0 0 175 28" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g clipPath="url(#clip0_104_560)">
        <path
          d="M34.3516 15.7615L36.8535 15.7701C36.9066 17.076 37.7514 17.6464 39.0019 17.6505C40.3106 17.655 41.0249 17.0519 41.0283 16.125C41.0312 15.3111 40.5133 14.8175 39.2046 14.813L38.05 14.8089C35.8367 14.8011 34.5517 13.6047 34.558 11.8451C34.565 9.85855 36.2056 8.48284 38.977 8.49224C41.8253 8.50204 43.3786 9.98309 43.4479 12.1971L40.9655 12.1885C40.912 11.0154 40.2599 10.3886 38.9708 10.3841C37.8162 10.38 37.1022 10.9076 37.0993 11.759C37.0964 12.5348 37.692 12.915 38.6734 12.9187L39.9434 12.9232C42.4835 12.9317 43.6331 14.336 43.6273 16.0388C43.6199 18.1013 41.9598 19.5522 39.0156 19.5424C36.0519 19.5322 34.4213 18.0507 34.3528 15.7611L34.3516 15.7615Z"
          fill={fill}
        />
        <path
          d="M44.669 14.0375C44.6819 10.4805 47.0749 8.52084 50.0578 8.53105C53.0406 8.54125 55.42 10.5172 55.4071 14.0743C55.3942 17.6314 53.0012 19.591 50.0183 19.5808C47.0355 19.5706 44.6561 17.5946 44.669 14.0375ZM50.0254 17.6889C51.6995 17.6946 52.801 16.4688 52.8097 14.0657C52.8184 11.6626 51.7257 10.429 50.0516 10.4233C48.3774 10.4176 47.276 11.6434 47.2677 14.0465C47.2589 16.4496 48.3516 17.6832 50.0258 17.6889H50.0254Z"
          fill={fill}
        />
        <path
          d="M56.6526 15.4031L56.6758 8.87531L59.1005 8.88347L59.078 15.1274C59.0714 16.9817 59.8771 17.7037 61.0703 17.7077C62.3018 17.7118 63.4593 16.9401 63.4667 14.8587L63.4879 8.89858L65.9126 8.90675L65.8756 19.3133L63.4892 19.3052L63.495 17.7159H63.4563C62.8168 19.0001 61.6597 19.6204 60.2551 19.6159C58.0613 19.6082 56.6422 18.1655 56.6522 15.4031H56.6526Z"
          fill={fill}
        />
        <path
          d="M67.5099 8.91286L69.8963 8.92102L69.8905 10.5103H69.9291C70.5687 9.28281 71.7258 8.60578 73.1882 8.61068C75.3437 8.61803 76.7624 10.0611 76.7529 12.8235L76.7296 19.3513L74.3049 19.3431L74.3274 13.0992C74.334 11.2829 73.5283 10.5229 72.3351 10.5189C71.1228 10.5148 69.9271 11.2865 69.9196 13.3675L69.8984 19.3276L67.4738 19.3194L67.5107 8.91286H67.5099Z"
          fill={fill}
        />
        <path
          d="M78.4026 14.1539C78.4155 10.5401 80.674 8.63681 83.1372 8.64539C84.7537 8.6511 86.0403 9.46901 86.6708 10.7957H86.7094C86.6725 10.4364 86.6733 10.1146 86.6749 9.73607L86.6932 4.60852L89.1179 4.61669L89.0651 19.3938L86.6596 19.3856L86.6621 18.6857C86.6633 18.3072 86.6646 17.9666 86.6853 17.5693H86.6467C86.0067 18.8915 84.7146 19.7004 83.0982 19.6951C80.6349 19.6865 78.3901 17.7677 78.403 14.1539H78.4026ZM83.8358 17.8053C85.6063 17.8114 86.67 16.3769 86.6779 14.1821C86.6857 11.9873 85.6325 10.5458 83.862 10.5397C82.0724 10.5336 81.0087 11.9677 81.0008 14.1625C80.9929 16.3573 82.0462 17.7988 83.8362 17.8053H83.8358Z"
          fill={fill}
        />
        <path d="M90.7285 16.8641L93.3263 16.8731L93.3172 19.4085L90.7194 19.3995L90.7285 16.8641Z" fill={fill} />
        <path
          d="M98.5319 14.1286L94.7396 9.00677L97.7416 9.01698L100 12.3927H100.039L102.341 9.03291L105.343 9.04312L101.515 14.1388L105.479 19.4505L102.477 19.4403L100.027 15.8935H99.988L97.5123 19.4232L94.5104 19.413L98.5319 14.129V14.1286Z"
          fill={fill}
        />
        <path
          d="M105.857 21.2868L108.86 21.297L109.907 18.8976L105.901 9.04474L108.538 9.05372L111.169 15.9878H111.207L113.907 9.0721L116.505 9.08108L110.972 22.4584C110.759 22.9876 110.354 23.251 109.776 23.2489L105.85 23.2354L105.857 21.2864V21.2868Z"
          fill={fill}
        />
        <path
          d="M116.897 17.7302L122.367 11.0321V10.9942L117.306 10.9766L117.312 9.08435L125.607 9.11293L125.6 10.8349L120.15 17.5329V17.5709L126 17.5909L125.993 19.5208L116.89 19.4893L116.897 17.7298V17.7302Z"
          fill={fill}
        />
        <path
          d="M27.9091 10.9199C28.2223 10.9199 28.479 10.6679 28.479 10.36V3.92008C28.479 3.61219 28.2227 3.36025 27.9091 3.36025H25.6311C25.3179 3.36025 25.0613 3.1083 25.0613 2.80041V0.559837C25.0613 0.251947 24.805 0 24.4919 0H3.98708C3.67393 0 3.41767 0.251947 3.41767 0.559837V2.8C3.41767 3.10789 3.16142 3.35984 2.84827 3.35984H0.569405C0.256253 3.35984 0 3.61178 0 3.91967V13.1596C0 13.4675 0.256253 13.7195 0.569405 13.7195H7.97416C8.28731 13.7195 8.54356 13.9714 8.54356 14.2793V15.9592C8.54356 16.2671 8.79982 16.5195 9.11297 16.5195H19.3652C19.6783 16.5195 19.9346 16.7714 19.9346 17.0793V22.9594C19.9346 23.2673 19.6783 23.5193 19.3652 23.5193H13.3845C13.0714 23.5193 12.8151 23.2673 12.8151 22.9594V20.4391C12.8151 20.1313 12.5589 19.8793 12.2457 19.8793H6.26511C5.95196 19.8793 5.69571 19.6274 5.69571 19.3191V17.6391C5.69571 17.3313 5.43946 17.0789 5.1263 17.0789H0.569405C0.256253 17.0789 0 17.3308 0 17.6391V24.0791C0 24.387 0.256253 24.6394 0.569405 24.6394H2.84785C3.16101 24.6394 3.41726 24.8913 3.41726 25.1992V27.4393C3.41726 27.7472 3.67351 27.9992 3.98666 27.9992H24.4915C24.8046 27.9992 25.0609 27.7472 25.0609 27.4393V25.1992C25.0609 24.8913 25.3171 24.6394 25.6307 24.6394H27.9087C28.2219 24.6394 28.4785 24.3874 28.4785 24.0791V14.8391C28.4785 14.5313 28.2223 14.2793 27.9087 14.2793H20.5044C20.1912 14.2793 19.9346 14.0274 19.9346 13.7195V12.0396C19.9346 11.7317 19.6783 11.4797 19.3652 11.4797H9.11338C8.80023 11.4797 8.54398 11.2278 8.54398 10.9199V5.04016C8.54398 4.73227 8.80023 4.48033 9.11338 4.48033H15.094C15.4072 4.48033 15.6634 4.73227 15.6634 5.04016V7.56004C15.6634 7.86793 15.9197 8.11988 16.2328 8.11988H22.2134C22.5266 8.11988 22.7832 8.37183 22.7832 8.67972V10.3596C22.7832 10.6675 23.0395 10.9195 23.3527 10.9195H27.9091V10.9199Z"
          fill={fill}
        />
      </g>
      <path
        d="M135.149 20.323C136.745 20.323 138.018 19.506 138.645 18.176H138.683C138.664 18.575 138.664 18.917 138.664 19.297V20H141.039V5.161H138.645V10.31C138.645 10.69 138.645 11.013 138.683 11.374H138.645C138.018 10.044 136.745 9.227 135.149 9.227C132.717 9.227 130.494 11.146 130.494 14.775C130.494 18.404 132.717 20.323 135.149 20.323ZM133.059 14.775C133.059 12.571 134.104 11.127 135.871 11.127C137.619 11.127 138.664 12.571 138.664 14.775C138.664 16.979 137.619 18.423 135.871 18.423C134.104 18.423 133.059 16.979 133.059 14.775ZM147.985 20.323C150.93 20.323 153.286 18.347 153.286 14.775C153.286 11.203 150.93 9.227 147.985 9.227C145.04 9.227 142.684 11.203 142.684 14.775C142.684 18.347 145.04 20.323 147.985 20.323ZM145.249 14.775C145.249 12.362 146.332 11.127 147.985 11.127C149.638 11.127 150.721 12.362 150.721 14.775C150.721 17.188 149.638 18.423 147.985 18.423C146.332 18.423 145.249 17.188 145.249 14.775ZM159.786 20.323C162.693 20.323 164.384 18.461 164.688 16.219H162.218C162.085 17.207 161.325 18.423 159.786 18.423C158.133 18.423 157.05 17.036 157.05 14.775C157.05 12.647 157.981 11.127 159.786 11.127C161.363 11.127 162.123 12.248 162.218 13.54H164.688C164.46 11.089 162.788 9.227 159.786 9.227C156.461 9.227 154.485 11.412 154.485 14.775C154.485 18.138 156.613 20.323 159.786 20.323ZM170.311 20.323C173.218 20.323 174.852 18.86 174.852 16.789C174.852 15.079 173.712 13.673 171.204 13.673H169.95C168.981 13.673 168.392 13.293 168.392 12.514C168.392 11.659 169.095 11.127 170.235 11.127C171.508 11.127 172.154 11.754 172.211 12.932H174.662C174.586 10.709 173.047 9.227 170.235 9.227C167.499 9.227 165.884 10.614 165.884 12.609C165.884 14.376 167.157 15.573 169.342 15.573H170.482C171.774 15.573 172.287 16.067 172.287 16.884C172.287 17.815 171.584 18.423 170.292 18.423C169.057 18.423 168.221 17.853 168.164 16.542H165.694C165.77 18.841 167.385 20.323 170.311 20.323Z"
        fill="#F773FF"
      />
      <defs>
        <clipPath id="clip0_104_560">
          <rect width="126" height="28" fill={fill} />
        </clipPath>
      </defs>
    </svg>
  )
}
